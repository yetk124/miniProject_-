<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>data page</title>
    <div class="radio-inputs">
        <label class="radio">
            <input type="radio" name="menu" checked onclick="location.href='/main/data'" />
            <span class="name">DATA</span>
        </label>
        <label class="radio">
            <input type="radio" name="menu" onclick="location.href='/main/chart'" />
            <span class="name">CHART</span>
        </label>
        <label class="radio">
            <input type="radio" name="menu" onclick="location.href='/main/ml'" />
            <span class="name">ML</span>
        </label>
        <label class="radio">
            <input type="radio" name="menu" onclick="location.href='/main/map'" />
            <span class="name">MAP</span>
        </label>
        <label class="radio">
            <input type="radio" name="menu" onclick="location.href='/main'" />
            <span class="name">HOME</span>
        </label>
    </div>
    
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
    <script>
        function showData(dataType) {
            window.location.href = "/main/data?type=" + dataType;  // Flaskì—ì„œ ë°ì´í„° ìœ í˜•ì„ ì „ë‹¬
        }
    </script>

</head> 
<body>
    <div class="container">
        <h1>ğŸ“‹ ë°ì´í„° ì¡°íšŒ ğŸ“‹</h1>
        <!-- ğŸ”¹ ë„¤ ê°€ì§€ ë°ì´í„° ì„ íƒ ë²„íŠ¼ -->
        <div class="button-container">
            <button class="button" onclick="showData('real_estate_grouped')">ğŸ  ë¶€ë™ì‚° ë°ì´í„°</button>
            <button class="button" onclick="showData('cctv')">ğŸ“· CCTV ë°ì´í„°</button>
            <button class="button" onclick="showData('crime')">ğŸš” 5ëŒ€ ë²”ì£„ ë°ì´í„°</button>
            <button class="button" onclick="showData('police')">ğŸš¨ ì¹˜ì•ˆ ì‹œì„¤ ë°ì´í„°</button>
            <button class="button" onclick="showData('merged')">ğŸ“Š ìµœì¢… ë³‘í•© ë°ì´í„°</button>
        </div>

        <hr>

        <!-- ğŸ”¹ ë°ì´í„° í…Œì´ë¸” -->
        {% if data_type == "crime" %}
    <h2>ğŸš” 5ëŒ€ ë²”ì£„ ë°ì´í„°</h2>
    <table>
        <tr>
            <th>ìì¹˜êµ¬</th>
            <th>ì‚´ì¸</th>
            <th>ê°•ë„</th>
            <th>ê°•ê°„Â·ê°•ì œì¶”í–‰</th>
            <th>ì ˆë„</th>
            <th>í­ë ¥</th>
        </tr>
        {% for crime in crime_data %}
        <tr>
            <td>{{ crime['ìì¹˜êµ¬'] }}</td>
            <td>{{ crime['ì‚´ì¸'] }}</td>
            <td>{{ crime['ê°•ë„'] }}</td>
            <td>{{ crime['ê°•ê°„Â·ê°•ì œì¶”í–‰'] }}</td>
            <td>{{ crime['ì ˆë„'] }}</td>
            <td>{{ crime['í­ë ¥'] }}</td>
        </tr>
        {% endfor %}
    </table>

{% else %}
    {% if data_type == "real_estate_grouped" %}
        <h2>ğŸ  ë¶€ë™ì‚° ë°ì´í„°</h2>
        <table>
            <tr>
                <th>ìì¹˜êµ¬</th>
                <th>í‰ê·  ê¸ˆì•¡</th>
                <th>í‰ê·  ê±´ë¬¼ ë©´ì </th>
                <th>í‰ê·  ê±´ì¶•ë…„ë„</th>
            </tr>
            {% for real_estate_grouped in real_estate_grouped_data %}
            <tr>
                <td>{{ real_estate_grouped['ìì¹˜êµ¬'] }}</td>
                <td>{{ real_estate_grouped['í‰ê· ê±°ë˜ê¸ˆì•¡']|round(3) }}</td>
                <td>{{ real_estate_grouped['í‰ê· ê±´ë¬¼ë©´ì ']|round(3) }}</td>
                <td>{{ real_estate_grouped['í‰ê· ê±´ì¶•ë…„ë„']|round(3) }}</td>
            </tr>
            {% endfor %}
        </table>

    {% elif data_type == "cctv" %}
        <h2>ğŸ“· CCTV ë°ì´í„°</h2>
        <table>
            <tr>
                <th>ìì¹˜êµ¬</th>
                <th>CCTV ì´ ê°œìˆ˜</th>
            </tr>
            {% for cctv in cctv_data %}
            <tr>
                <td>{{ cctv['ìì¹˜êµ¬'] }}</td>
                <td>{{ cctv['CCTV_ì´ê³„'] }}</td>
            </tr>
            {% endfor %}
        </table>

    {% elif data_type == "police" %}
        <h2>ğŸš¨ ì¹˜ì•ˆ ì‹œì„¤ ë°ì´í„°</h2>
        <table>
            <tr>
                <th>ìì¹˜êµ¬</th>
                <th>ì¹˜ì•ˆì‹œì„¤ ì´ ê°œìˆ˜</th>
            </tr>
            {% for police in police_data %}
            <tr>
                <td>{{ police['êµ¬'] }}</td>
                <td>{{ police['ê°œìˆ˜'] }}</td>
            </tr>
            {% endfor %}
        </table>

    {% elif data_type == "merged" %}
        <h2>ğŸ“Š ìµœì¢… ë³‘í•© ë°ì´í„°</h2>
        <table>
            <tr>
                <th>ìì¹˜êµ¬</th>
                <th>CCTV ê°œìˆ˜</th>
                <th>ë²”ì£„ í•©ê³„</th>
                <th>í‰ê·  ê±°ë˜ ê¸ˆì•¡</th>
                <th>ìœ„í—˜ë„</th>
                <th>ì¹˜ì•ˆì‹œì„¤ í•©ê³„</th>
                <th>í‰ê·  ê±´ë¬¼ ë©´ì </th>
            </tr>
            {% for merged in merged_data %}
            <tr>
                <td>{{ merged['ìì¹˜êµ¬'] }}</td>
                <td>{{ merged['CCTV_ì´ê³„'] }}</td>
                <td>{{ merged['ë²”ì£„_í•©ê³„'] }}</td>
                <td>{{ merged['í‰ê· ê±°ë˜ê¸ˆì•¡'] }}</td>
                <td>{{ merged['ìœ„í—˜ë„']|round(3) }}</td>
                <td>{{ merged['ì¹˜ì•ˆì‹œì„¤_í•©ê³„']}}</td>
                <td>{{ merged['í‰ê· ê±´ë¬¼ë©´ì ']|round(3) }}</td>
            </tr>
            {% endfor %}
        </table>
    {% endif %}
{% endif %}

        <br>
    </div>

</body>
</html>
